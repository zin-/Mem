# Software Architecture

システムを構築する際に、レイヤーをどのように区切り、どのように機能をもたせるべきかを考える

## 理想

まだ言語化できていない

- レイヤーによって責務となる処理しか定義できなくする？
  - 役割ごとの記述をどこに行うべきなのか明示し、それ以外は禁止する
    - Frameworkの役割
- Frameworkを実現するための、レイヤー名称やディレクトリ構成も含む？

## 構築する要素

- Domain
  - Core, Modelのように呼ばれることもある
  - システムにおける本質的な部分？
    - ここが言語化できていないと話にならない
  - 完璧なアーキテクチャができたとしたら、ここの差だけがシステムの本質的な差となる
    - 他にUIの差もあるけど
- Interface
  - UI(User Interface)
    - GUI(Graphical -), CUI(Character -)
    - User（主に人）との接触面
      - パフォーマンスや視認性など具体的なInterfaceによって重要な点が異なる
  - API(Application Programming Interface)
    - External Systemの接触面
- External System（外部システム）
  - DB, Log, OS, OSが持つ様々なシステムなどを含む
  - ざっくりとした定義としては、起動状態が独立していればExternal Systemと呼べると考えている
- Library
  - 公開されている実装済みの処理郡
    - 特定の目的（機能や外部システム）を扱うことに特化しまとめられているものが多い
    - 公開されているため多数の利用者がおり、ブラッシュアップが早い
    - Contributor（作成者、メンテナとも呼ばれる）がいて、思想や利用者からの要望で開発を行っている
    - 意図しない変更が含まれる場合があり、品質も様々なためAdapterが必要
- Wrapper（腐敗防止層）
  - LibraryやAPIなど（主に）制御下にない処理郡を利用するために用いる
  - 自システムにとって都合の良いIFに変換するためのもの

# Memo

- Libraryとの接続の名称
  - 責務
    - Libraryの変更やモデルのギャップを埋める
    - Libraryへの依存をここだけに限定することでLibraryの変更を可能にする
  - 候補
    - Wrapper
      - 包む、覆い隠すイメージ
      - Adapterと比較して、包みこんで隠すイメージがあるのでこちらを採用する
    - Adapter
      - 接続するイメージ
      - AdapterはWrapperより抽象的で、2つ以上の要素をつなげるイメージ
        - 対象Libraryの変更やモデルの違いに対応する責務があるのでつなげるだけだと意味が足りなり
  - memo
    - Object指向プログラミングとしては、そもそもすべてのObjectが包み隠すイメージを持つので別の命名にするべきなのでは？
